---
title: '@novu/js'
pageTitle: 'API reference for the @novu/js package'
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

## Novu

The Novu client provides methods to interact with notifications, preferences, and real-time events.

### Constructor Options

<TypeTable
  name="NovuOptions"
  type={{
    applicationIdentifier: {
      description: '',
      type: 'string',
    },
    subscriberId: {
      description: '',
      type: 'string',
    },
    subscriberHash: {
      description: '',
      type: 'string',
    },
    backendUrl: {
      description: '',
      type: 'string',
    },
    apiUrl: {
      description: '',
      type: 'string',
    },
    socketUrl: {
      description: '',
      type: 'string',
    },
    useCache: {
      description: '',
      type: 'boolean',
    },
  }}
/>

### Usage

<Tabs items={['US', 'EU']}>
  <Tab value="US">
    ```typescript
    import { Novu } from "@novu/js";

    const novu = new Novu({
      subscriberId: "SUBSCRIBER_ID",
      applicationIdentifier: "APPLICATION_IDENTIFIER",
    });
    ```

  </Tab>
  <Tab value="EU">
    ```typescript
    import { Novu } from "@novu/js";

    const novu = new Novu({
      subscriberId: "SUBSCRIBER_ID",
      applicationIdentifier: "APPLICATION_IDENTIFIER",
      backendUrl: "https://eu.api.novu.co",
      socketUrl: "https://eu.ws.novu.co",
    });
    ```

  </Tab>
  <Tab value="HMAC">
    ```typescript
    import { Novu } from "@novu/js";

    const novu = new Novu({
      subscriberId: "SUBSCRIBER_ID",
      applicationIdentifier: "APPLICATION_IDENTIFIER",
      subscriberHash: "SUBSCRIBER_HASH_HMAC_ENCRYPTION",
    });
    ```

  </Tab>
</Tabs>

## Notifications

### Methods

#### list

Fetches a list of notifications based on provided filters.

<TypeTable
  name="NotificationFilter"
  type={{
    tags: {
      description: '',
      type: 'string[]',
    },
    read: {
      description: '',
      type: 'boolean',
    },
    archived: {
      description: '',
      type: 'boolean',
    },
  }}
/>

```typescript
const notifications = await novu.notifications.list({
  limit: 30,
  read: false,
  archived: false,
  tags: ['tag1', 'tag2'],
  offset: 0,
});
```

The response will be of type:

<TypeTable
  name="NotificationsResponse"
  type={{
    notifications: {
      description: '',
      type: 'Notification[]',
    },
    hasMore: {
      description: '',
      type: 'boolean',
    },
    filter: {
      description: '',
      type: 'NotificationFilter',
    },
  }}
/>

#### count

Fetches the count of notifications based on filters.

<TypeTable
  name="NotificationFilter"
  type={{
    tags: {
      description: '',
      type: 'string[]',
    },
    read: {
      description: '',
      type: 'boolean',
    },
    archived: {
      description: '',
      type: 'boolean',
    },
  }}
/>

```typescript
// Single filter
const count = await novu.notifications.count({
  read: false,
  archived: false,
});

// Multiple filters
const counts = await novu.notifications.count({
  filters: [{ read: false }, { archived: true }, { tags: ['tag1'] }],
});
```

#### read

Marks a notification as read.

```typescript
await novu.notifications.read('NOTIFICATION_ID');
```

#### unread

Marks a notification as unread.

```typescript
await novu.notifications.unread('NOTIFICATION_ID');
```

#### archive

Archives a notification.

```typescript
await novu.notifications.archive('NOTIFICATION_ID');
```

#### unarchive

Unarchives a notification.

```typescript
await novu.notifications.unarchive('NOTIFICATION_ID');
```

#### readAll

Marks all notifications as read. Can be filtered by tags.

```typescript
await novu.notifications.readAll({
  tags: ['tag1', 'tag2'],
});
```

#### archiveAll

Archives all notifications. Can be filtered by tags.

```typescript
await novu.notifications.archiveAll({
  tags: ['tag1', 'tag2'],
});
```

## Preferences

### Methods

#### list

Fetches the subscriber's notification preferences.

```typescript
const preferences = await novu.preferences.list();
```

The response will be of type:

<TypeTable
  name="PreferenceResponse"
  type={{
    level: {
      description: '',
      type: 'PreferenceLevel',
    },
    enabled: {
      description: '',
      type: 'boolean',
    },
    channels: {
      description: '',
      type: 'ChannelPreference',
    },
    overrides: {
      description: '',
      type: 'IPreferenceOverride[]',
    },
    workflow: {
      description: '',
      type: 'Workflow',
    },
  }}
/>

#### update

Updates channel preferences for a specific workflow or globally.

<TypeTable
  name="ChannelPreference"
  type={{
    email: {
      description: '',
      type: 'boolean',
    },
    sms: {
      description: '',
      type: 'boolean',
    },
    in_app: {
      description: '',
      type: 'boolean',
    },
    chat: {
      description: '',
      type: 'boolean',
    },
    push: {
      description: '',
      type: 'boolean',
    },
  }}
/>

```typescript
await novu.preferences.update({
  workflowId: 'workflow_id',
  channelPreferences: {
    email: false,
    sms: false,
  },
});
```

## Events

The Novu client provides real-time event handling through WebSocket connections.

### Available Events

- `notifications.notification_received`: Triggered when a new notification is received
- `notifications.unread_count_changed`: Triggered when the unread count changes

### Usage

```typescript
novu.on('notifications.notification_received', (data) => {
  console.log('New notification:', data);
});

novu.on('notifications.unread_count_changed', (data) => {
  console.log('Unread count:', data);
});
```

## Types

### Notification

<TypeTable
  name="Notification"
  type={{
    id: {
      description: '',
      type: 'string',
    },
    subject: {
      description: '',
      type: 'string',
    },
    body: {
      description: '',
      type: 'string',
    },
    to: {
      description: '',
      type: 'Subscriber',
    },
    isRead: {
      description: '',
      type: 'boolean',
    },
    isArchived: {
      description: '',
      type: 'boolean',
    },
    createdAt: {
      description: '',
      type: 'string',
    },
    readAt: {
      description: '',
      type: 'string',
    },
    archivedAt: {
      description: '',
      type: 'string',
    },
    avatar: {
      description: '',
      type: 'string',
    },
    primaryAction: {
      description: '',
      type: 'Action',
    },
    secondaryAction: {
      description: '',
      type: 'Action',
    },
    channelType: {
      description: '',
      type: 'ChannelType',
    },
    tags: {
      description: '',
      type: 'string[]',
    },
    redirect: {
      description: '',
      type: 'Redirect',
    },
    data: {
      description: '',
      type: 'Record<string, unknown>',
    },
    read: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    unread: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    archive: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    unarchive: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    completePrimary: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    completeSecondary: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    revertPrimary: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    revertSecondary: {
      description: '',
      type: '() => Result<Notification, NovuError>',
    },
    on: {
      description: '',
      type: '<Key extends EventNames>(eventName: Key, listener: EventHandler<Events[Key]>) => () => void',
    },
    off: {
      description: '',
      type: '<Key extends EventNames>(eventName: Key, listener: EventHandler<Events[Key]>) => void',
    },
  }}
/>

### Action

<TypeTable
  name="Action"
  type={{
    label: {
      description: '',
      type: 'string',
    },
    isCompleted: {
      description: '',
      type: 'boolean',
    },
    redirect: {
      description: '',
      type: 'Redirect',
    },
  }}
/>

### NotificationButton

<TypeTable
  name="NotificationButton"
  type={{
    PRIMARY: {
      description: '',
      type: 'NotificationButton.PRIMARY',
    },
    SECONDARY: {
      description: '',
      type: 'NotificationButton.SECONDARY',
    },
  }}
/>

### Subscriber

<TypeTable
  name="Subscriber"
  type={{
    id: {
      description: '',
      type: 'string',
    },
    firstName: {
      description: '',
      type: 'string',
    },
    lastName: {
      description: '',
      type: 'string',
    },
    avatar: {
      description: '',
      type: 'string',
    },
    subscriberId: {
      description: '',
      type: 'string',
    },
  }}
/>
